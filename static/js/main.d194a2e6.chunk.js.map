{"version":3,"sources":["store/actions/actionTypes.js","store/actions/flash.js","store/actions/auth.js","base.js","store/actions/comments.js","store/actions/posts.js","store/actions/topics.js","store/actions/sidebar.js","components/ScrollToTop.js","components/helpers/Nav.js","components/functions/dateSince.js","components/helpers/Votes.js","components/Home.js","components/Register.js","components/Login.js","components/NewPost.js","components/NewTopic.js","components/TopicPosts.js","components/helpers/AuthCreator.js","components/helpers/AuthShow.js","components/helpers/Comment.js","components/Post.js","components/Topics.js","components/helpers/AuthHide.js","components/helpers/Sidebar.js","components/SearchPosts.js","components/helpers/FlashError.js","components/helpers/FlashSuccess.js","components/helpers/FlashLoading.js","components/UserPosts.js","App.js","store/reducers/auth.js","store/reducers/posts.js","store/reducers/topics.js","store/reducers/sidebar.js","store/reducers/comments.js","store/reducers/flash.js","index.js"],"names":["AUTHORIZE","DEAUTHORIZE","TOGGLE_REGISTER_MODAL","TOGGLE_LOGIN_MODAL","LOAD_POSTS","SET_SINGLE_POST","TOGGLE_EDIT_POST","EDIT_POST_INPUT","SET_POST_VOTE","SET_SINGLE_POST_VOTE","ADD_COMMENT","TOGGLE_REPLY_FORM","REPLY_INPUT","RESET_REPLY_INPUT","SET_DELETED_COMMENT","TOGGLE_EDIT_COMMENT","EDIT_COMMENT_INPUT","TOGGLE_SHOW_COMMENT","SET_SINGLE_POST_COMMENTS","SET_TOPICS","SET_ADDED_TOPIC","SET_SIDEBAR","TOGGLE_SIDEBAR","SET_ERROR","SET_SUCCESS","SET_LOADING","SET_TIMEOUT","setError","error","type","actionTypes","setSuccess","success","setLoading","loading","setTimeout","timeout","authorize","user_id","userLogout","dispatch","localStorage","removeItem","toggleRegisterModal","toggleLoginModal","base","addComment","comment","toggleReplyForm","comment_id","commentReply","text","post_id","parent","token","getItem","fetch","method","body","JSON","stringify","headers","Authorization","then","response","json","data","console","log","Error","message","catch","deleteComment","setDeletedComment","toggleEditComment","canceled","loadPosts","posts","setSinglePost","post","comments","getSinglePost","query","jwt_decode","sub","toggleEditPost","postVote","vote","single_post","setSinglePostVote","setPostVote","setTopics","topics","addTopic","topic","setAddedTopic","setSidebar","isHome","name","description","toggleSidebar","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","connect","state","isAuth","auth","sidebar","sidebarShow","show","onToggleSidebar","actions","props","className","to","onClick","aria-label","xmlns","viewBox","d","fillRule","dateSince","date","duration","Date","now","toFixed","onSetError","onPostVote","user_vote","votes","onGetPosts","onSetSidebar","postsDisplay","map","index","title","time","username","flash","onUserRegister","registerForm","history","setItem","expires","Number","expiresIn","decoded","push","goBack","onToggleRegisterModal","useState","password","confirmPassword","setRegisterForm","useHistory","handleInput","e","target","value","currentTarget","onSubmit","preventDefault","htmlFor","onChange","required","minLength","disabled","onUserLogin","loginForm","onToggleLoginModal","setLoginForm","onNewPost","postForm","setPostForm","location","onNewTopic","topicForm","split","join","toLowerCase","setTopicForm","maxLength","onGetTopicPosts","onAddTopic","useParams","topicIndex","length","findIndex","topicState","creator_id","Fragment","children","onToggleReplyForm","onCommentReply","onReplyInput","onDeleteComment","onToggleEditComment","onEditCommentInput","onEditComment","onToggleShowComment","Comment","replies","allComments","filter","commentContent","editing","id","data-index","AuthCreator","showReply","reply","placeholder","onSetSinglePost","onGetSinglePost","onNewComment","commentForm","onDeletePost","onToggleEditPost","onEditPostInput","onEditPost","replace","postDisplay","toString","setCommentForm","commentsDisplay","onGetTopics","topicsDisplay","topic_id","onUserLogout","search","setSearch","stopPropagation","onGetSearchPosts","URLSearchParams","get","onSetTimeout","errorDisplay","clearTimeout","onSetSuccess","successDisplay","onGetUserPosts","registerModal","loginModal","onAuthorize","expiration","isLoggedIn","path","exact","initialState","action","deauthorize","reducer","original","editPostInput","previousVote","duplicateComments","duplicate","setSinglePostComments","replyInput","resetReplyInput","editCommentInput","toggleShowComment","messages","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d194a2e6.chunk.js","sourcesContent":["export const AUTHORIZE = \"AUTHORIZE\";\nexport const DEAUTHORIZE = \"DEAUTHORIZE\";\nexport const TOGGLE_REGISTER_MODAL = \"TOGGLE_REGISTER_MODAL\";\nexport const TOGGLE_LOGIN_MODAL = \"TOGGLE_LOGIN_MODAL\";\n\nexport const LOAD_POSTS = \"LOAD_POSTS\";\nexport const SET_SINGLE_POST = \"SET_SINGLE_POST\";\nexport const TOGGLE_EDIT_POST = \"TOGGLE_EDIT_POST\";\nexport const EDIT_POST_INPUT = \"EDIT_POST_INPUT\";\nexport const SET_POST_VOTE = \"SET_POST_VOTE\";\nexport const SET_SINGLE_POST_VOTE = \"SET_SINGLE_POST_VOTE\";\n\nexport const ADD_COMMENT = \"ADD_COMMENT\";\nexport const TOGGLE_REPLY_FORM = \"TOGGLE_REPLY_FORM\";\nexport const COMMENT_REPLY = \"COMMENT_REPLY\";\nexport const REPLY_INPUT = \"REPLY_INPUT\";\nexport const RESET_REPLY_INPUT = \"RESET_REPLY_INPUT\";\nexport const SET_DELETED_COMMENT = \"SET_DELETED_COMMENT\";\nexport const TOGGLE_EDIT_COMMENT = \"TOGGLE_EDIT_COMMENT\";\nexport const EDIT_COMMENT_INPUT = \"EDIT_COMMENT_INPUT\";\nexport const TOGGLE_SHOW_COMMENT = \"TOGGLE_SHOW_COMMENT\";\nexport const SET_SINGLE_POST_COMMENTS = \"SET_SINGLE_POST_COMMENTS\";\n\nexport const SET_TOPICS = \"SET_TOPICS\";\nexport const SET_ADDED_TOPIC = \"SET_ADDED_TOPIC\";\n\nexport const SET_SIDEBAR = \"SET_SIDEBAR\";\nexport const TOGGLE_SIDEBAR = \"TOGGLE_SIDEBAR\";\n\nexport const SET_ERROR = \"SET_ERROR\";\nexport const SET_SUCCESS = \"SET_SUCCESS\";\nexport const SET_LOADING = \"SET_LOADING\";\nexport const SET_TIMEOUT = \"SET_TIMEOUT\";\n","import * as actionTypes from \"./actionTypes\";\n\nexport const setError = (error) => {\n  return {\n    type: actionTypes.SET_ERROR,\n    error,\n  };\n};\n\nexport const setSuccess = (success) => {\n  return {\n    type: actionTypes.SET_SUCCESS,\n    success,\n  };\n};\n\nexport const setLoading = (loading) => {\n  return {\n    type: actionTypes.SET_LOADING,\n    loading,\n  }\n}\n\nexport const setTimeout = (timeout) => {\n  return {\n    type: actionTypes.SET_TIMEOUT,\n    timeout\n  }\n}","import * as actionTypes from \"../actions/actionTypes\";\nimport jwt_decode from \"jwt-decode\";\nimport { setError, setLoading, setSuccess } from \"./flash\";\n\n// Authorize user\nexport const authorize = (user_id) => {\n  return {\n    type: actionTypes.AUTHORIZE,\n    user_id,\n  };\n};\n\n// Deauthorize user\nexport const deauthorize = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"expires\");\n\n  return {\n    type: actionTypes.DEAUTHORIZE,\n  };\n};\n\n// Logout user\nexport const userLogout = () => {\n  return (dispatch) => {\n    dispatch(deauthorize());\n    dispatch(setSuccess(\"Logged out\"));\n  };\n};\n\n// Toggle register modal\nexport const toggleRegisterModal = () => {\n  return {\n    type: actionTypes.TOGGLE_REGISTER_MODAL,\n  };\n};\n\n// Toggle register modal\nexport const toggleLoginModal = () => {\n  return {\n    type: actionTypes.TOGGLE_LOGIN_MODAL,\n  };\n};\n\n// Handle register user submission to backend\nexport const userRegister = (registerForm, history) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n\n    fetch(\"http://localhost:3000/register\", {\n      method: \"POST\",\n      body: JSON.stringify(registerForm),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Set jwt token in local storage\n        localStorage.setItem(\"token\", data.token);\n        const expires = Date.now() + Number(data.expiresIn);\n        localStorage.setItem(\"expires\", expires);\n\n        // Login user with redux state auth\n        const decoded = jwt_decode(localStorage.getItem(\"token\"));\n        dispatch(authorize(decoded.sub));\n\n        // Close modal on success\n        dispatch(toggleRegisterModal());\n\n        // Stop loading and set success message\n        dispatch(setLoading(false));\n        dispatch(setSuccess(data.message));\n\n        // Reload page to get posts for logged in users\n        history.push(\"/refresh\");\n        history.goBack();\n      })\n      .catch((error) => {\n        // Display error to user and stop loading\n        dispatch(setLoading(false));\n        dispatch(setError(error.message));\n      });\n  };\n};\n\n// Handle login submission to backend\nexport const userLogin = (loginForm, history) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    fetch(\"http://localhost:3000/login\", {\n      method: \"POST\",\n      body: JSON.stringify(loginForm),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Set jwt token in local storage\n        localStorage.setItem(\"token\", data.token);\n        const expires = Date.now() + Number(data.expiresIn);\n        localStorage.setItem(\"expires\", expires);\n\n        // Login user with redux state auth\n        const decoded = jwt_decode(localStorage.getItem(\"token\"));\n        dispatch(authorize(decoded.sub));\n\n        dispatch(toggleLoginModal());\n\n        // Stop loading and set success message\n        dispatch(setLoading(false));\n        dispatch(setSuccess(data.message));\n\n        // Reload page to get posts for logged in users\n        history.push(\"/refresh\");\n        history.goBack();\n      })\n      .catch((error) => {\n        // Display error to user and stop loading\n        dispatch(setLoading(false));\n        dispatch(setError(error.message));\n      });\n  };\n};\n","const base = \"http://10.0.0.6:3000\";\n\nexport default base;","import * as actionTypes from \"../actions/actionTypes\";\nimport base from \"../../base\";\nimport {setError, setSuccess, setLoading} from \"./flash\";\n\n// Add comment to post\nexport const addComment = (comment) => {\n  return {\n    type: actionTypes.ADD_COMMENT,\n    comment,\n  };\n};\n\n// Submit new comment\nexport const newComment = (commentForm, post_id) => {\n  return (dispatch) => {\n    dispatch(setLoading(true))\n\n    const token = localStorage.getItem(\"token\");\n    fetch(`${base}/comments/new`, {\n      method: \"POST\",\n      body: JSON.stringify({ ...commentForm, post_id }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Add to state\n        dispatch(addComment(data.comment));\n\n        dispatch(setLoading(false))\n        dispatch(setSuccess(data.message))\n      })\n      .catch((error) => {\n        dispatch(setLoading(false))\n        dispatch(setError(error.message))\n      });\n  };\n};\n\n// Set comments of one post\nexport const setSinglePostComments = (comments) => {\n  return {\n    type: actionTypes.SET_SINGLE_POST_COMMENTS,\n    comments,\n  };\n};\n\n// Toggle display of comment reply form\nexport const toggleReplyForm = (comment_id) => {\n  return {\n    type: actionTypes.TOGGLE_REPLY_FORM,\n    comment_id,\n  };\n};\n\n// Reset submitted comment reply's input and close input form\nexport const resetReplyInput = (comment_id) => {\n  return {\n    type: actionTypes.RESET_REPLY_INPUT,\n    comment_id,\n  };\n};\n\n// Submit comment to backend\nexport const commentReply = (text, post_id, parent) => {\n  return (dispatch) => {\n    dispatch(setLoading(true))\n    const token = localStorage.getItem(\"token\");\n    fetch(`${base}/comments/new`, {\n      method: \"POST\",\n      body: JSON.stringify({ text, post_id, parent }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Add to state\n        dispatch(addComment(data.comment));\n\n        // Reset input\n        dispatch(resetReplyInput(parent));\n\n        // Close input form\n        dispatch(toggleReplyForm(parent));\n\n        dispatch(setLoading(false))\n        dispatch(setSuccess(data.message))\n      })\n      .catch((error) => {\n        dispatch(setLoading(false))\n        dispatch(setError(error.message))\n      });\n  };\n};\n\n// Handle input of comment reply\nexport const replyInput = (value, comment_id) => {\n  return {\n    type: actionTypes.REPLY_INPUT,\n    value,\n    comment_id,\n  };\n};\n\n// Set comment to deleted in state\nexport const setDeletedComment = (comment_id) => {\n  return {\n    type: actionTypes.SET_DELETED_COMMENT,\n    comment_id,\n  };\n};\n\n// Delete comment from database\nexport const deleteComment = (comment_id) => {\n  return (dispatch) => {\n    dispatch(setLoading(true))\n    const token = localStorage.getItem(\"token\");\n    fetch(`${base}/comments/${comment_id}/delete`, {\n      method: \"DELETE\",\n      body: JSON.stringify({ comment_id }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Remove from state\n        dispatch(setDeletedComment(comment_id));\n\n        dispatch(setLoading(false))\n        dispatch(setSuccess(data.message))\n      })\n      .catch((error) => {\n        dispatch(setLoading(false));\n        dispatch(setError(error.message))\n      });\n  };\n};\n\n// Toggle comment edit form\nexport const toggleEditComment = (comment_id, canceled) => {\n  return {\n    type: actionTypes.TOGGLE_EDIT_COMMENT,\n    comment_id,\n    canceled,\n  };\n};\n\n// Handle comment editing text box\nexport const editCommentInput = (value, comment_id) => {\n  return {\n    type: actionTypes.EDIT_COMMENT_INPUT,\n    value,\n    comment_id,\n  };\n};\n\n// Submit edited comment to backend\nexport const editComment = (text, comment_id) => {\n  return (dispatch) => {\n    dispatch(setLoading(true))\n    const token = localStorage.getItem(\"token\");\n    fetch(`${base}/comments/${comment_id}/edit`, {\n      method: \"PATCH\",\n      body: JSON.stringify({ text, comment_id }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Close input form\n        dispatch(toggleEditComment(comment_id));\n\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setLoading(false))\n        dispatch(setError(error.message))\n      });\n  };\n};\n\n// Toggle showing of comment and its' children\nexport const toggleShowComment = (comment_id) => {\n  return {\n    type: actionTypes.TOGGLE_SHOW_COMMENT,\n    comment_id,\n  };\n};\n","import * as actionTypes from \"../actions/actionTypes\";\nimport base from \"../../base\";\nimport { setSinglePostComments } from \"./comments\";\nimport { setError, setSuccess, setLoading } from \"./flash\";\nimport jwt_decode from \"jwt-decode\";\n\n// Submit new post\nexport const newPost = (postForm, history) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    const token = localStorage.getItem(\"token\");\n    fetch(`${base}/posts/new`, {\n      method: \"POST\",\n      body: JSON.stringify(postForm),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Redirect\n        history.push(`/topics/${postForm.topic}/${data.post_id}`);\n\n        dispatch(setLoading(false));\n        dispatch(setSuccess(data.message));\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n        dispatch(setLoading(false));\n      });\n  };\n};\n\n// Load posts\nexport const loadPosts = (posts) => {\n  return {\n    type: actionTypes.LOAD_POSTS,\n    posts,\n  };\n};\n\n// Get posts\nexport const getPosts = () => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    dispatch(loadPosts([]));\n\n    // Get user id if logged in\n    const token = localStorage.getItem(\"token\");\n    let query = \"\";\n    if (token) {\n      const user_id = jwt_decode(token).sub;\n      query = `?user_id=${user_id}`;\n    }\n\n    fetch(`${base}/posts${query}`)\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Add to state\n        dispatch(loadPosts(data.posts));\n\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n        dispatch(setLoading(false));\n      });\n  };\n};\n\n// Get posts for a single topic\nexport const getTopicPosts = (topic) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    dispatch(loadPosts([]));\n\n    // Get user id if logged in\n    const token = localStorage.getItem(\"token\");\n    let query = \"\";\n    if (token) {\n      const user_id = jwt_decode(token).sub;\n      query += `?user_id=${user_id}`;\n    }\n\n    fetch(`${base}/posts/topics/${topic}${query}`)\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Add to state\n        dispatch(loadPosts(data.posts));\n\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n        dispatch(setLoading(false));\n      });\n  };\n};\n\n// Set single post\nexport const setSinglePost = (post, comments) => {\n  return {\n    type: actionTypes.SET_SINGLE_POST,\n    post,\n  };\n};\n\n// Get single post\nexport const getSinglePost = (post_id) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    dispatch(setSinglePost({}));\n\n    // Get user id if logged in\n    const token = localStorage.getItem(\"token\");\n    let query = \"\";\n    if (token) {\n      const user_id = jwt_decode(token).sub;\n      query += `?user_id=${user_id}`;\n    }\n\n    fetch(`${base}/posts/${post_id}${query}`)\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Add posts to state\n        dispatch(setSinglePost(data.post));\n\n        // Add comments to state\n        dispatch(setSinglePostComments(data.comments));\n\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n        dispatch(setLoading(false));\n      });\n  };\n};\n\n// Delete a post\nexport const deletePost = (post_id, history, topic) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    const token = localStorage.getItem(\"token\");\n    fetch(`${base}/posts/${post_id}/delete`, {\n      method: \"DELETE\",\n      body: JSON.stringify({ post_id }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Redirect\n        history.push(`/topics/${topic}`);\n\n        dispatch(setLoading(false));\n        dispatch(setSuccess(data.message));\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n        dispatch(setLoading(false));\n      });\n  };\n};\n\n// Toggle comment edit form\nexport const toggleEditPost = (canceled) => {\n  return {\n    type: actionTypes.TOGGLE_EDIT_POST,\n    canceled,\n  };\n};\n\n// Handle comment editing text box\nexport const editPostInput = (value, post_id) => {\n  return {\n    type: actionTypes.EDIT_POST_INPUT,\n    value,\n    post_id,\n  };\n};\n\n// Submit edited post to backend\nexport const editPost = (text, post_id) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    const token = localStorage.getItem(\"token\");\n    fetch(`${base}/posts/${post_id}/edit`, {\n      method: \"PATCH\",\n      body: JSON.stringify({ text, post_id }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Close input form\n        dispatch(toggleEditPost());\n\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n        dispatch(setLoading(false));\n      });\n  };\n};\n\n// Get posts from submitted search\nexport const getSearchPosts = (query) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    dispatch(loadPosts([]));\n\n    // Get user id if logged in\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const user_id = jwt_decode(token).sub;\n      query += `&user_id=${user_id}`;\n    }\n\n    fetch(`${base}/posts/search?q=${query}`)\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Add to state\n        dispatch(loadPosts(data.posts));\n\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n        dispatch(setLoading(false));\n      });\n  };\n};\n\n// Get posts from submitted search\nexport const getUserPosts = (username) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    dispatch(loadPosts([]));\n\n    // Get user id if logged in\n    const token = localStorage.getItem(\"token\");\n    let query = \"\";\n    if (token) {\n      const user_id = jwt_decode(token).sub;\n      query = `?user_id=${user_id}`;\n    }\n\n    fetch(`${base}/posts/user/${username}${query}`)\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Add to state\n        dispatch(loadPosts(data.posts));\n\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n        dispatch(setLoading(false));\n      });\n  };\n};\n\nexport const setPostVote = (vote, post_id) => {\n  return {\n    type: actionTypes.SET_POST_VOTE,\n    vote,\n    post_id,\n  };\n};\n\nexport const setSinglePostVote = (vote, post_id) => {\n  return {\n    type: actionTypes.SET_SINGLE_POST_VOTE,\n    vote,\n    post_id,\n  };\n};\n\n// Vote on a post\nexport const postVote = (vote, post_id, single_post) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    const token = localStorage.getItem(\"token\");\n\n    fetch(`${base}/posts/${post_id}/vote`, {\n      method: \"POST\",\n      body: JSON.stringify({ post_id, vote }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Set single post vote if on single post page\n        if (single_post) {\n          dispatch(setSinglePostVote(vote, post_id));\n        } else {\n          dispatch(setPostVote(vote, post_id));\n        }\n\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n        dispatch(setLoading(false));\n      });\n  };\n};\n","import * as actionTypes from \"../actions/actionTypes\";\nimport base from \"../../base\";\nimport { setError, setSuccess, setLoading } from \"./flash\";\n\n// Submit new topic\nexport const newTopic = (topicForm, history) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n\n    const token = localStorage.getItem(\"token\");\n\n    // Remove spaces from topic name and make lowercase\n    topicForm.name = topicForm.name.split(\" \").join(\"\").toLowerCase();\n\n    fetch(`${base}/newtopic`, {\n      method: \"POST\",\n      body: JSON.stringify(topicForm),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Add to state\n\n        // Redirect\n        history.push(`/topics/${topicForm.name}`);\n\n        // Set loading and success message\n        dispatch(setLoading(true));\n        dispatch(setSuccess(data.message));\n      })\n      .catch((error) => {\n        dispatch(setLoading(false));\n        dispatch(setError(error.message));\n      });\n  };\n};\n\n// Set topics in state\nexport const setTopics = (topics) => {\n  return {\n    type: actionTypes.SET_TOPICS,\n    topics,\n  };\n};\n\n// Get list of topics\nexport const getTopics = () => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    dispatch(setTopics([]));\n\n    fetch(`${base}/posts/topics`)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Add to state\n        dispatch(setTopics(data.topics));\n\n        // Stop loading\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setLoading(false));\n        dispatch(setError(error.message));\n      });\n  };\n};\n\n// Set added topic in state\nexport const setAddedTopic = (topic) => {\n  return {\n    type: actionTypes.SET_ADDED_TOPIC,\n    topic,\n  };\n};\n\n// Fetch topic information\nexport const addTopic = (topic) => {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n\n    fetch(`${base}/posts/singletopic`, {\n      method: \"POST\",\n      body: JSON.stringify({ topic }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // If error on backend throw to catch block\n        if (data.error) {\n          throw new Error(data.error);\n        }\n        dispatch(setAddedTopic(data.topic));\n\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        dispatch(setLoading(false));\n        dispatch(setError(error.message));\n      });\n  };\n};\n","import * as actionTypes from \"../actions/actionTypes\";\n\n// Set sidebar content\nexport const setSidebar = (isHome, name, description) => {\n  return {\n    type: actionTypes.SET_SIDEBAR,\n    isHome,\n    name,\n    description,\n  };\n};\n\n// Toggle sidebar showing\nexport const toggleSidebar = () => {\n  return {\n    type: actionTypes.TOGGLE_SIDEBAR\n  }\n}","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport * as actions from \"../../store/actions/index\";\n\nimport \"./Nav.css\";\n\nconst Nav = (props) => {\n  return (\n    <nav className=\"Nav\">\n      <ul>\n        <li>\n          <Link\n            to=\"/\"\n            className=\"nav-logo\"\n            onClick={props.sidebarShow ? props.onToggleSidebar : null}\n          >\n            Sayit\n          </Link>\n        </li>\n        <button\n          className=\"menu-button\"\n          onClick={props.onToggleSidebar}\n          aria-label=\"toggle-sidebar\"\n        >\n          {props.sidebarShow ? (\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\">\n              <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n            </svg>\n          ) : (\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\">\n              <path\n                fillRule=\"evenodd\"\n                d=\"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"\n              />\n            </svg>\n          )}\n        </button>\n      </ul>\n    </nav>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuth: state.auth.isAuth,\n    sidebar: state.sidebar.sidebar,\n    sidebarShow: state.sidebar.show,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onToggleSidebar: () => {\n      dispatch(actions.toggleSidebar());\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav);\n","const dateSince = (date) => {\n  const duration = (Date.now() - new Date(date)) / 1000;\n  if (duration < 60) {\n    return `${duration.toFixed(0)} seconds ago`;\n  } else if (duration < 60 * 60) {\n    return `${(duration / 60).toFixed(0)} minutes ago`;\n  } else if (duration < 60 * 60 * 24) {\n    return `${(duration / (60 * 60)).toFixed(0)} hours ago`;\n  } else if (duration < 60 * 60 * 24 * 365) {\n    return `${(duration / (60 * 60 * 24)).toFixed(0)} days ago`;\n  } else {\n    return `${(duration / (60 * 60 * 24 * 365)).toFixed(0)} years ago`;\n  }\n}\n\nexport default dateSince;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index\";\n\nconst Votes = (props) => {\n  const voteUp = () => {\n    // Display error if not logged in\n    if (!props.isAuth) {\n      return props.onSetError(\"Login to vote\");\n    }\n\n    // If already voted set to not voted again\n    if (props.user_vote === 1) {\n      return props.onPostVote(0, props.post_id, props.single_post);\n    }\n\n    props.onPostVote(1, props.post_id, props.single_post);\n  };\n\n  const voteDown = () => {\n    // Display error if not logged in\n    if (!props.isAuth) {\n      return props.onSetError(\"Login to vote\");\n    }\n\n    // If already voted set to not voted again\n    if (props.user_vote === -1) {\n      return props.onPostVote(0, props.post_id, props.single_post);\n    }\n\n    props.onPostVote(-1, props.post_id, props.single_post);\n  };\n\n  return (\n    <div className=\"post-votes\">\n      <svg\n        onClick={voteUp}\n        className={props.user_id && props.user_vote === 1 ? \"vote-up\" : null}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path d=\"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z\" />\n      </svg>\n      <p>{props.votes}</p>\n      <svg\n        onClick={voteDown}\n        className={props.user_id && props.user_vote === -1 ? \"vote-down\" : null}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path d=\"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\" />\n      </svg>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  user_id: state.auth.user_id,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSetError: (error) => {\n    dispatch(actions.setError(error));\n  },\n  onPostVote: (vote, post_id, single_post) => {\n    dispatch(actions.postVote(vote, post_id, single_post));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Votes);\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../store/actions/index\";\nimport dateSince from \"./functions/dateSince\";\nimport Votes from \"./helpers/Votes\";\n\nconst Home = (props) => {\n  useEffect(() => {\n    // Fetch posts on first load\n    props.onGetPosts();\n\n    // Set sidebar to home content\n    props.onSetSidebar(true, \"\", \"\");\n\n    // eslint-disable-next-line\n  }, []);\n\n  const postsDisplay = props.posts.map((post, index) => {\n    return (\n      <li key={post.post_id}>\n        <div className=\"post-number\">\n          <p>{index + 1}</p>\n        </div>\n        <Votes\n          post_id={post.post_id}\n          votes={post.votes}\n          user_vote={post.user_vote}\n        />\n        <div>\n          <div className=\"post-title\">\n            <Link to={`/topics/${post.topic}/${post.post_id}`}>\n              {post.title}\n            </Link>\n          </div>\n          <p className=\"post-subtitle\">\n            submitted {dateSince(post.time)} by{\" \"}\n            <Link className=\"post-username\" to={`/users/${post.username}`}>\n              {post.username}\n            </Link>{\" \"}\n            in{\" \"}\n            <Link className=\"post-topic\" to={`/topics/${post.topic}`}>\n              {post.topic}\n            </Link>\n          </p>\n        </div>\n      </li>\n    );\n  });\n\n  return (\n    <section className=\"Home\">\n      <ul className=\"posts-list\">{postsDisplay}</ul>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  posts: state.posts.posts,\n  user_id: state.auth.user_id,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onGetPosts: () => {\n      dispatch(actions.getPosts());\n    },\n    onSetSidebar: (isHome, name, description) => {\n      dispatch(actions.setSidebar(isHome, name, description));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../store/actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Register.css\";\n\nconst Register = (props) => {\n  const [registerForm, setRegisterForm] = useState({\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  let history = useHistory();\n\n  // Change register details when inputs change\n  const handleInput = (e) => {\n    setRegisterForm({\n      ...registerForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Submit register form handler\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // Submit to backend\n    props.onUserRegister(registerForm, history);\n  };\n\n  // Handle clicking on modal without children being effected\n  const modalClick = (e) => {\n    if (e.currentTarget === e.target) {\n      props.onToggleRegisterModal();\n    }\n  };\n\n  return (\n    <section className=\"modal-wrapper\" onClick={modalClick}>\n      <div>\n        <h1>Register</h1>\n        <button\n          className=\"modal-close-button\"\n          onClick={props.onToggleRegisterModal}\n          aria-label=\"close form\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\">\n            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n          </svg>\n        </button>\n        <form className=\"auth-form\" onSubmit={handleSubmit}>\n          <div>\n            <label htmlFor=\"username\">Username</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={registerForm.username}\n              onChange={handleInput}\n              required\n            />\n          </div>\n          <div>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={registerForm.password}\n              onChange={handleInput}\n              required\n              minLength=\"8\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"confirmPassword\">Confirm Password</label>\n            <input\n              type=\"password\"\n              name=\"confirmPassword\"\n              value={registerForm.confirmPassword}\n              onChange={handleInput}\n              required\n              minLength=\"8\"\n            />\n          </div>\n          <button\n            className=\"basic-button\"\n            type=\"submit\"\n            aria-label=\"submit\"\n            disabled={props.loading ? \"disabled\" : null}\n          >\n            Register\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.flash.loading,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onUserRegister: (registerForm, history) => {\n      dispatch(actions.userRegister(registerForm, history));\n    },\n    onToggleRegisterModal: () => {\n      dispatch(actions.toggleRegisterModal());\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../store/actions/index\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = (props) => {\n  const [loginForm, setLoginForm] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  let history = useHistory();\n\n  // Change register details when inputs change\n  const handleInput = (e) => {\n    setLoginForm({\n      ...loginForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Submit register form handler\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // Submit to backend\n    props.onUserLogin(loginForm, history);\n  };\n\n  // Handle clicking on modal without children being effected\n  const modalClick = (e) => {\n    if (e.currentTarget === e.target) {\n      props.onToggleLoginModal();\n    }\n  };\n\n  return (\n    <section className=\"modal-wrapper\" onClick={modalClick}>\n      <div>\n        <h1>Login</h1>\n        <button\n          className=\"modal-close-button\"\n          onClick={props.onToggleLoginModal}\n          aria-label=\"close form\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\">\n            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n          </svg>\n        </button>\n        <form className=\"auth-form\" onSubmit={handleSubmit}>\n          <div>\n            <label htmlFor=\"username\">Username</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={loginForm.username}\n              onChange={handleInput}\n              required\n            />\n          </div>\n          <div>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={loginForm.password}\n              onChange={handleInput}\n              required\n              minLength=\"8\"\n            />\n          </div>\n          <button className=\"basic-button\" type=\"submit\" aria-label=\"submit\" disabled={props.loading ? \"disabled\" : null}>\n            Login\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.flash.loading\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onUserLogin: (loginForm, history) => {\n      dispatch(actions.userLogin(loginForm, history));\n    },\n    onToggleLoginModal: () => {\n      dispatch(actions.toggleLoginModal());\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport * as actions from \"../store/actions/index\";\nimport \"./NewPost.css\";\n\nconst NewPost = (props) => {\n  let history = useHistory();\n\n  const [postForm, setPostForm] = useState({\n    title: \"\",\n    text: \"\",\n    topic: \"\",\n  });\n\n  useEffect(() => {\n    // If coming from a specific topic, pre fill in state\n    if (history.location.state) {\n      setPostForm({\n        ...postForm,\n        topic: history.location.state.topic,\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  // Handle text field changes\n  const handleInput = (e) => {\n    setPostForm({\n      ...postForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Handle Submission of form\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onNewPost(postForm, history);\n  };\n\n  return (\n    <section>\n      <h1 className=\"page-title\">New Post</h1>\n      <form className=\"auth-form new-post-form\" onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor=\"title\">Title*</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            value={postForm.title}\n            onChange={handleInput}\n            required\n          />\n        </div>\n        <div>\n          <label htmlFor=\"text\">Text</label>\n          <textarea\n            type=\"text\"\n            name=\"text\"\n            value={postForm.text}\n            onChange={handleInput}\n            required\n          ></textarea>\n        </div>\n        <div>\n          <label htmlFor=\"topic\">Topic*</label>\n          <input\n            type=\"text\"\n            name=\"topic\"\n            value={postForm.topic}\n            onChange={handleInput}\n            required\n          />\n        </div>\n        <button className=\"basic-button\" type=\"submit\" aria-label=\"submit\">\n          Submit\n        </button>\n      </form>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => ({});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onNewPost: (postForm, history) => {\n      dispatch(actions.newPost(postForm, history));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewPost);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport * as actions from \"../store/actions/index\";\nimport \"./NewTopic.css\";\n\nconst NewTopic = (props) => {\n  let history = useHistory();\n\n  useEffect(() => {\n    // Set sidebar to home content\n    props.onSetSidebar(true, \"\", \"\");\n\n    // eslint-disable-next-line\n  }, []);\n\n  const [topicForm, setTopicForm] = useState({\n    name: \"\",\n    description: \"\",\n  });\n\n  // Handle text field changes\n  const handleInput = (e) => {\n    setTopicForm({\n      ...topicForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Handle Submission of form\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onNewTopic(topicForm, history);\n  };\n\n  return (\n    <section>\n      <h1 className=\"page-title\">New Topic</h1>\n      <form className=\"auth-form new-topic-form\" onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor=\"name\">Name*</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={topicForm.name}\n            onChange={handleInput}\n            required\n            maxLength=\"100\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"text\">Description*</label>\n          <input\n            type=\"text\"\n            name=\"description\"\n            value={topicForm.description}\n            onChange={handleInput}\n            required\n            maxLength=\"255\"\n          />\n        </div>\n        <button\n          className=\"basic-button\"\n          type=\"submit\"\n          aria-label=\"submit\"\n          disabled={props.loading ? \"disabled\" : false}\n        >\n          Submit\n        </button>\n      </form>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  loading: state.flash.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onNewTopic: (topicForm, history) => {\n      dispatch(actions.newTopic(topicForm, history));\n    },\n    onSetSidebar: (isHome, name, description) => {\n      dispatch(actions.setSidebar(isHome, name, description));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewTopic);\n","import React, { useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport * as actions from \"../store/actions/index\";\nimport { connect } from \"react-redux\";\nimport dateSince from \"./functions/dateSince\";\nimport Votes from \"./helpers/Votes\";\n\nconst TopicPosts = (props) => {\n  const { topic } = useParams();\n\n  // Get posts on first run or if topic changes\n  useEffect(() => {\n    props.onGetTopicPosts(topic);\n    // eslint-disable-next-line\n  }, [topic]);\n\n  useEffect(() => {\n    // Find index of topic in state\n    let topicIndex = -1;\n    if (props.topics.length) {\n      topicIndex = props.topics.findIndex(\n        (topicState) => topicState && topicState.name === topic\n      );\n    }\n\n    // If topic not in state, fetch and add it\n    if (topicIndex === -1) {\n      props.onAddTopic(topic);\n    }\n\n    // If post defined and topic in state, display topic in sidebar\n    if (topicIndex !== -1) {\n      props.onSetSidebar(\n        false,\n        props.topics[topicIndex].name,\n        props.topics[topicIndex].description\n      );\n    }\n\n    // eslint-disable-next-line\n  }, [topic, props.topics]);\n\n  const postsDisplay = props.posts.map((post, index) => {\n    return (\n      <li key={post.post_id}>\n        <div className=\"post-number\">\n          <p>{index + 1}</p>\n        </div>\n        <div className=\"post-votes\">\n          <Votes\n            post_id={post.post_id}\n            votes={post.votes}\n            user_vote={post.user_vote}\n          />\n        </div>\n        <div>\n          <div className=\"post-title\">\n            <Link to={`/topics/${post.topic}/${post.post_id}`}>\n              {post.title}\n            </Link>\n          </div>\n          <p className=\"post-subtitle\">\n            submitted {dateSince(post.time)} by{\" \"}\n            <Link className=\"post-username\" to={`/users/${post.username}`}>\n              {post.username}\n            </Link>\n          </p>\n        </div>\n      </li>\n    );\n  });\n\n  return (\n    <section>\n      <h1 className=\"page-title\">{topic}</h1>\n      <ul className=\"posts-list\">{postsDisplay}</ul>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    posts: state.posts.posts,\n    topics: state.topics.topics,\n    error: state.flash.error,\n    loading: state.flash.loading,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onGetTopicPosts: (topic) => {\n      dispatch(actions.getTopicPosts(topic));\n    },\n    onAddTopic: (topic) => {\n      dispatch(actions.addTopic(topic));\n    },\n    onSetSidebar: (isHome, name, description) => {\n      dispatch(actions.setSidebar(isHome, name, description));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TopicPosts);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nconst AuthShow = (props) => {\n  // Only show if the user was the creator of post or comment\n  if (props.user_id === props.creator_id) {\n    return <React.Fragment>{props.children}</React.Fragment>;\n  } else {\n    return null;\n  }\n};\n\nconst mapStateToProps = (state) => ({\n  user_id: state.auth.user_id\n});\n\nexport default connect(mapStateToProps)(AuthShow);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nconst AuthShow = (props) => {\n  // Only show to logged in users\n  if (props.isAuth) {\n    return <React.Fragment>{props.children}</React.Fragment>;\n  } else {\n    return null;\n  }\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n});\n\nexport default connect(mapStateToProps)(AuthShow);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {Link} from \"react-router-dom\"\nimport * as actions from \"../../store/actions/index\";\nimport AuthCreator from \"./AuthCreator\";\nimport AuthShow from \"./AuthShow\";\nimport dateSince from \"../functions/dateSince\"\n\nconst Comment = (props) => {\n  // Submit reply to a comment\n  const submitCommentReply = (e) => {\n    e.preventDefault();\n    props.onCommentReply(\n      props.comment.reply,\n      props.post_id,\n      props.comment.comment_id\n    );\n  };\n\n  // Submit comment after editing\n  const submitCommentEdit = (e) => {\n    e.preventDefault();\n    props.onEditComment(props.comment.text, props.comment.comment_id);\n  };\n\n  // Filter comments that have this comment as it's parent\n  const replies = props.allComments.filter(\n    (comment) => comment.parent === props.comment.comment_id\n  );\n\n  // Change content when hiding comment\n  let commentContent = null;\n  if (props.comment.show) {\n    commentContent = (\n      <React.Fragment>\n        {props.comment.editing ? (\n          <form className=\"edit-comment-form\" onSubmit={submitCommentEdit}>\n            <div>\n              <label htmlFor=\"editComment\" />\n              <textarea\n                name=\"text\"\n                id=\"editComment\"\n                value={props.comment.text}\n                onChange={(e) =>\n                  props.onEditCommentInput(\n                    e.target.value,\n                    props.comment.comment_id\n                  )\n                }\n                required\n              ></textarea>\n            </div>\n            <button className=\"basic-button\" type=\"submit\">\n              Submit\n            </button>\n            <button\n              className=\"basic-button\"\n              type=\"button\"\n              disabled={props.loading ? \"disabled\" : false}\n              onClick={() =>\n                props.onToggleEditComment(props.comment.comment_id, true)\n              }\n            >\n              Cancel\n            </button>\n          </form>\n        ) : (\n          <div className=\"comment-text\">\n            <p>{props.comment.text}</p>\n          </div>\n        )}\n        <AuthShow>\n          <div className=\"comment-buttons\">\n            <button\n              data-index={props.index}\n              disabled={props.loading ? \"disabled\" : false}\n              onClick={() => props.onToggleReplyForm(props.comment.comment_id)}\n            >\n              Reply\n            </button>\n            <AuthCreator creator_id={props.comment.user_id}>\n              <button\n                type=\"button\"\n                aria-label=\"delete\"\n                disabled={props.loading ? \"disabled\" : false}\n                onClick={() => props.onDeleteComment(props.comment.comment_id)}\n              >\n                Delete\n              </button>\n              <button\n                type=\"edit\"\n                aria-label=\"edit\"\n                disabled={props.loading ? \"disabled\" : false}\n                onClick={() =>\n                  props.onToggleEditComment(props.comment.comment_id)\n                }\n              >\n                Edit\n              </button>\n            </AuthCreator>\n          </div>\n          {props.comment.showReply ? (\n            <form className=\"reply-form\" onSubmit={submitCommentReply}>\n              <div>\n                <label htmlFor=\"commentReply\"></label>\n                <textarea\n                  name=\"comment\"\n                  id=\"commentReply\"\n                  placeholder=\"Reply\"\n                  value={props.comment.reply}\n                  onChange={(e) =>\n                    props.onReplyInput(e.target.value, props.comment.comment_id)\n                  }\n                  required\n                ></textarea>\n              </div>\n              <button\n                className=\"basic-button\"\n                type=\"submit\"\n                aria-label=\"submit\"\n                disabled={props.loading ? \"disabled\" : false}\n              >\n                Submit\n              </button>\n              <button\n                className=\"basic-button\"\n                type=\"button\"\n                aria-label=\"cancel\"\n                disabled={props.loading ? \"disabled\" : false}\n                onClick={() =>\n                  props.onToggleReplyForm(props.comment.comment_id)\n                }\n              >\n                Cancel\n              </button>\n            </form>\n          ) : null}\n        </AuthShow>\n        <ul>\n          {replies.map((comment) => {\n            return (\n              <Comment\n                allComments={props.allComments}\n                comment={comment}\n                post_id={props.post_id}\n                key={comment.comment_id}\n                loading={props.loading}\n                onToggleReplyForm={props.onToggleReplyForm}\n                onReplyInput={props.onReplyInput}\n                onCommentReply={props.onCommentReply}\n                onDeleteComment={props.onDeleteComment}\n                onToggleEditComment={props.onToggleEditComment}\n                onEditCommentInput={props.onEditCommentInput}\n                onEditComment={props.onEditComment}\n                onToggleShowComment={props.onToggleShowComment}\n              />\n            );\n          })}\n        </ul>\n      </React.Fragment>\n    );\n  }\n\n  return (\n    <li className=\"child\" key={props.comment.comment_id}>\n      <p className=\"comment-subtitle\">\n        <button\n          onClick={() => props.onToggleShowComment(props.comment.comment_id)}\n        >\n          {props.comment.show ? \"[–]\" : \"[+]\"}\n        </button>\n        <Link className=\"post-username comment-username\" to={`/users/${props.comment.username}`}>\n              {props.comment.username}\n            </Link>\n        {dateSince(props.comment.time)}\n      </p>\n      {props.comment.show ? commentContent : null}\n    </li>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  loading: state.flash.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onToggleReplyForm: (index) => {\n      dispatch(actions.toggleReplyForm(index));\n    },\n    onCommentReply: (text, post_id, parent) => {\n      dispatch(actions.commentReply(text, post_id, parent));\n    },\n    onReplyInput: (value, comment_id) => {\n      dispatch(actions.replyInput(value, comment_id));\n    },\n    onDeleteComment: (comment_id) => {\n      dispatch(actions.deleteComment(comment_id));\n    },\n    onToggleEditComment: (comment_id, canceled) => {\n      dispatch(actions.toggleEditComment(comment_id, canceled));\n    },\n    onEditCommentInput: (value, comment_id) => {\n      dispatch(actions.editCommentInput(value, comment_id));\n    },\n    onEditComment: (text, comment_id) => {\n      dispatch(actions.editComment(text, comment_id));\n    },\n    onToggleShowComment: (comment_id) => {\n      dispatch(actions.toggleShowComment(comment_id));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Comment);\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useParams, useHistory, Link } from \"react-router-dom\";\nimport * as actions from \"../store/actions/index\";\nimport Comment from \"./helpers/Comment\";\nimport AuthShow from \"./helpers/AuthShow\";\nimport AuthCreator from \"./helpers/AuthCreator\";\nimport dateSince from \"./functions/dateSince\";\nimport \"./Post.css\";\nimport Votes from \"./helpers/Votes\";\n\nconst Post = (props) => {\n  const { post_id, topic } = useParams();\n\n  let history = useHistory();\n\n  useEffect(() => {\n    // Fetch only if post undefined or wrong post\n    if (!props.post.post_id || props.post.post_id !== Number(post_id)) {\n      props.onGetSinglePost(post_id, topic, history);\n    }\n\n    // If topic in url wrong redirect to correct page\n    if (props.post.post_id && props.post.topic !== topic) {\n      history.replace(`/topics/${props.post.topic}/${post_id}`);\n    }\n\n    // Find index of topic in state\n    const topicIndex = props.topics.findIndex(\n      (topic) => topic.name === props.post.topic\n    );\n\n    // If post defined and topic not in state, fetch and add it\n    if (props.post.topic && topicIndex === -1) {\n      props.onAddTopic(props.post.topic);\n    }\n\n    // If post defined and topic in state, display topic in sidebar\n    if (props.post.topic && topicIndex !== -1) {\n      props.onSetSidebar(\n        false,\n        props.topics[topicIndex].name,\n        props.topics[topicIndex].description\n      );\n    }\n\n    // eslint-disable-next-line\n  }, [post_id, props.post.topic, props.topics]);\n\n  useEffect(() => {\n    // eslint-disable-next-line\n  }, [post_id]);\n\n  // Submit post after editing\n  const submitPostEdit = (e) => {\n    e.preventDefault();\n    props.onEditPost(props.post.text, props.post.post_id);\n  };\n\n  let postDisplay = [];\n\n  // If post set and the post ids' match, display post\n  if (props.post.post_id && Number(props.post.post_id) === Number(post_id)) {\n    postDisplay = (\n      <div className=\"single-post\">\n        <div className=\"post-votes\">\n          <Votes\n            post_id={props.post.post_id}\n            votes={props.post.votes}\n            user_vote={props.post.user_vote}\n            single_post={true}\n          />\n        </div>\n        <div className=\"post-details\">\n          <div className=\"post-title\">\n            <Link to={`/topics/${props.post.topic}/${props.post.post_id}`}>\n              {props.post.title}\n            </Link>\n          </div>\n          <p className=\"post-subtitle\">\n            submitted {dateSince(props.post.time)} by{\" \"}\n            <Link\n              className=\"props.post-username\"\n              to={`/users/${props.post.username}`}\n            >\n              {props.post.username}\n            </Link>\n          </p>\n          {props.post.editing ? (\n            <form className=\"edit-post-form\" onSubmit={submitPostEdit}>\n              <label htmlFor=\"editPost\" aria-label=\"edit post\" />\n              <textarea\n                id=\"editPost\"\n                name=\"text\"\n                value={props.post.text.toString()}\n                onChange={(e) => props.onEditPostInput(e.target.value)}\n              ></textarea>\n              <div>\n                <button\n                  className=\"basic-button\"\n                  type=\"submit\"\n                  disabled={props.loading ? \"disabled\" : false}\n                >\n                  Submit\n                </button>\n                <button\n                  className=\"basic-button\"\n                  type=\"button\"\n                  aria-label=\"cancel\"\n                  disabled={props.loading ? \"disabled\" : false}\n                  onClick={() => props.onToggleEditPost(true)}\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          ) : (\n            <div className=\"post-text\">\n              <p>{props.post.text}</p>\n            </div>\n          )}\n          <AuthCreator creator_id={props.post.user_id}>\n            <div className=\"comment-buttons\">\n              <button\n                type=\"button\"\n                aria-label=\"delete post\"\n                disabled={props.loading ? \"disabled\" : false}\n                onClick={() => props.onDeletePost(post_id, history, topic)}\n              >\n                Delete\n              </button>\n              <button\n                type=\"button\"\n                aria-label=\"edit post\"\n                disabled={props.loading ? \"disabled\" : false}\n                onClick={() => props.onToggleEditPost()}\n              >\n                Edit\n              </button>\n            </div>\n          </AuthCreator>\n        </div>\n      </div>\n    );\n  }\n\n  const [commentForm, setCommentForm] = useState({\n    text: \"\",\n  });\n\n  // Get comments with no parent\n  const topLevelComments = props.comments.filter((comment) => !comment.parent);\n\n  // Display comments by newest for now\n  const commentsDisplay = topLevelComments.map((comment) => {\n    return (\n      <Comment\n        allComments={props.comments}\n        comment={comment}\n        key={comment.comment_id}\n        post_id={post_id}\n      />\n    );\n  });\n\n  // Handle text field changes\n  const handleInput = (e) => {\n    setCommentForm({\n      ...commentForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Handle Submission of form\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onNewComment(commentForm, post_id);\n\n    // Reset to blank\n    setCommentForm({\n      text: \"\",\n    });\n  };\n\n  return (\n    <section>\n      {postDisplay}\n      {!props.post.post_id ? null : (\n        <div className=\"comments-section\">\n          <h2>Comments</h2>\n          <AuthShow>\n            <form className=\"new-comment-form\" onSubmit={handleSubmit}>\n              <div>\n                <label htmlFor=\"newComment\" aria-label=\"new comment\"></label>\n                <textarea\n                  name=\"text\"\n                  id=\"newComment\"\n                  placeholder=\"New Comment\"\n                  value={commentForm.text}\n                  onChange={handleInput}\n                  required\n                />\n              </div>\n              <button\n                className=\"basic-button\"\n                type=\"submit\"\n                aria-label=\"submit\"\n                disabled={props.loading ? \"disabled\" : false}\n              >\n                Submit\n              </button>\n            </form>\n          </AuthShow>\n          <ul>{commentsDisplay}</ul>\n        </div>\n      )}\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  posts: state.posts.posts,\n  post: state.posts.post,\n  comments: state.comments.comments,\n  topics: state.topics.topics,\n  loading: state.flash.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSetSinglePost: (post) => {\n      dispatch(actions.setSinglePost(post));\n    },\n    onGetSinglePost: (post_id) => {\n      dispatch(actions.getSinglePost(post_id));\n    },\n    onNewComment: (commentForm, post_id) => {\n      dispatch(actions.newComment(commentForm, post_id));\n    },\n    onDeletePost: (post_id, history, topic) => {\n      dispatch(actions.deletePost(post_id, history, topic));\n    },\n    onToggleEditPost: (canceled) => {\n      dispatch(actions.toggleEditPost(canceled));\n    },\n    onEditPostInput: (value) => {\n      dispatch(actions.editPostInput(value));\n    },\n    onEditPost: (text, post_id) => {\n      dispatch(actions.editPost(text, post_id));\n    },\n    onSetSidebar: (isHome, name, description) => {\n      dispatch(actions.setSidebar(isHome, name, description));\n    },\n    onAddTopic: (topic) => {\n      dispatch(actions.addTopic(topic));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Post);\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../store/actions/index\";\nimport \"./Topics.css\";\n\nconst Topics = (props) => {\n  useEffect(() => {\n    // Get list of topics\n    props.onGetTopics();\n\n    // Set sidebar to home content\n    props.onSetSidebar(true, \"\", \"\");\n\n    // eslint-disable-next-line\n  }, []);\n\n  const topicsDisplay = props.topics.map((topic) => {\n    return (\n      <li key={topic.topic_id}>\n        <Link to={`/topics/${topic.name}`}>{topic.name}</Link>\n        <p>{topic.description}</p>\n      </li>\n    );\n  });\n\n  return (\n    <section>\n      {props.loading ? null : <h1 className=\"page-title\">Topics</h1>}\n      <ul className=\"topics-list\">{topicsDisplay}</ul>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  topics: state.topics.topics,\n  loading: state.flash.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onGetTopics: () => {\n      dispatch(actions.getTopics());\n    },\n    onSetSidebar: (isHome, name, description) => {\n      dispatch(actions.setSidebar(isHome, name, description));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Topics);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nconst AuthHide = (props) => {\n  // Only show to user that are not logged in\n  if (!props.isAuth) {\n    return <React.Fragment>{props.children}</React.Fragment>;\n  } else {\n    return null;\n  }\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n});\n\nexport default connect(mapStateToProps)(AuthHide);\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport AuthShow from \"./AuthShow\";\nimport AuthHide from \"./AuthHide\";\nimport * as actions from \"../../store/actions/index\";\nimport \"./Sidebar.css\";\n\nconst Sidebar = (props) => {\n  const [search, setSearch] = useState(\"\");\n\n  // Handle input in search bar\n  const searchInput = (e) => {\n    setSearch(e.target.value);\n  };\n\n  let history = useHistory();\n\n  // Handle search bar submission\n  const handleSearchSubmit = (e) => {\n    e.preventDefault();\n\n    history.push(`/search?q=${search}`);\n\n    setSearch(\"\");\n  };\n\n  return (\n    <aside\n      className={`sidebar ${props.show ? \"open\" : \"\"}`}\n      onClick={props.onToggleSidebar}\n    >\n      <form onSubmit={handleSearchSubmit}>\n        <div className=\"search-bar\">\n          <label htmlFor=\"search\"></label>\n          <input\n            type=\"text\"\n            name=\"search\"\n            id=\"search\"\n            placeholder=\"search\"\n            value={search}\n            onChange={searchInput}\n            required\n            onClick={(e) => {\n              e.stopPropagation();\n            }}\n          />\n          <button type=\"submit\" aria-label=\"search\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\">\n              <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n            </svg>\n          </button>\n        </div>\n      </form>\n      <div className=\"sidebar-links\">\n        <Link to=\"/topics\">Topics</Link>\n        <AuthShow>\n          <Link\n            to={{ pathname: \"/newpost\", state: { topic: props.sidebar.name } }}\n          >\n            New Post\n          </Link>\n          {props.sidebar.isHome ? <Link to=\"/newtopic\">New Topic</Link> : null}\n        </AuthShow>\n      </div>\n      <ul className=\"auth-links\">\n        <AuthHide>\n          <li>\n            <button\n              className=\"basic-button\"\n              disabled={props.loading ? \"disabled\" : false}\n              onClick={props.onToggleRegisterModal}\n              aria-label=\"register\"\n            >\n              Register\n            </button>\n          </li>\n        </AuthHide>\n        <AuthHide>\n          <li>\n            <button\n              className=\"basic-button\"\n              disabled={props.loading ? \"disabled\" : false}\n              onClick={props.onToggleLoginModal}\n              aria-label=\"login\"\n            >\n              Login\n            </button>\n          </li>\n        </AuthHide>\n        <AuthShow>\n          <li>\n            <button\n              disabled={props.loading ? \"disabled\" : false}\n              className=\"basic-button\"\n              onClick={props.onUserLogout}\n              aria-label=\"logout\"\n            >\n              Logout\n            </button>\n          </li>\n        </AuthShow>\n      </ul>\n      <div className=\"sidebar-topic\">\n        <Link to={`/topics/${props.sidebar.name}`}>{props.sidebar.name}</Link>\n        <p>{props.sidebar.description}</p>\n      </div>\n    </aside>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  sidebar: state.sidebar.sidebar,\n  show: state.sidebar.show,\n  loading: state.flash.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onToggleSidebar: () => {\n      dispatch(actions.toggleSidebar());\n    },\n    onUserLogout: () => {\n      dispatch(actions.userLogout());\n    },\n    onToggleLoginModal: () => {\n      dispatch(actions.toggleLoginModal());\n    },\n    onToggleRegisterModal: () => {\n      dispatch(actions.toggleRegisterModal());\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","import React, { useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../store/actions/index\";\nimport dateSince from \"./functions/dateSince\";\nimport Votes from \"./helpers/Votes\";\n\nconst SearchPosts = (props) => {\n  const location = useLocation();\n\n  const params = new URLSearchParams(location.search);\n  const query = params.get(\"q\");\n\n  useEffect(() => {\n    // Fetch posts on first load\n    props.onGetSearchPosts(query);\n\n    // Set sidebar to home content\n    props.onSetSidebar(true, \"\", \"\");\n\n    // eslint-disable-next-line\n  }, [query]);\n\n  const postsDisplay = props.posts.map((post, index) => {\n    return (\n      <li key={post.post_id}>\n        <div className=\"post-number\">\n          <p>{index + 1}</p>\n        </div>\n        <div className=\"post-votes\">\n        <Votes\n            post_id={post.post_id}\n            votes={post.votes}\n            user_vote={post.user_vote}\n          />\n        </div>\n        <div>\n          <div className=\"post-title\">\n            <Link to={`/topics/${post.topic}/${post.post_id}`}>\n              {post.title}\n            </Link>\n          </div>\n          <p className=\"post-subtitle\">\n            submitted {dateSince(post.time)} by{\" \"}\n            <Link className=\"post-username\" to={`/users/${post.username}`}>\n              {post.username}\n            </Link>{\" \"}\n            in <Link to={`/topics/${post.topic}`}>{post.topic}</Link>\n          </p>\n        </div>\n      </li>\n    );\n  });\n\n  return (\n    <section className=\"Home\">\n      <ul className=\"posts-list\">{postsDisplay}</ul>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  posts: state.posts.posts,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onGetSearchPosts: (query) => {\n      dispatch(actions.getSearchPosts(query));\n    },\n    onSetSidebar: (isHome, name, description) => {\n      dispatch(actions.setSidebar(isHome, name, description));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchPosts);\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index\";\nimport \"./Flash.css\";\n\nconst FlashError = (props) => {\n  let errorDisplay = null;\n\n  useEffect(() => {\n    // Clear any old timeouts\n    clearTimeout(props.timeout);\n\n    // Hide message after 5 seconds\n    const startTimeout = () => {\n      props.onSetTimeout(\n        setTimeout(() => {\n          props.onSetError(\"\");\n        }, 5000)\n      );\n    };\n\n    if (props.error !== \"\") {\n      startTimeout();\n    }\n\n    // eslint-disable-next-line\n  }, [props.error]);\n\n  if (props.error !== \"\") {\n    errorDisplay = (\n      <div className=\"Flash error\" onClick={() => props.onSetError(\"\")}>\n        <h1>{props.error}</h1>\n      </div>\n    );\n  }\n\n  return errorDisplay;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    error: state.flash.error,\n    timeout: state.flash.timeout,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSetError: (error) => {\n      dispatch(actions.setError(error));\n    },\n    onSetTimeout: (timeout) => {\n      dispatch(actions.setTimeout(timeout))\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlashError);\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index\";\n\nconst FlashSuccess = (props) => {\n  let successDisplay = null;\n\n  useEffect(() => {\n    // Clear any old timeouts\n    clearTimeout(props.timeout);\n\n    // Hide message after 5 seconds\n    const startTimeout = () => {\n      props.onSetTimeout(\n        setTimeout(() => {\n          props.onSetSuccess(\"\");\n        }, 5000)\n      );\n    };\n\n    if (props.success !== \"\") {\n      startTimeout();\n    }\n\n    // eslint-disable-next-line\n  }, [props.success]);\n\n  if (props.success !== \"\") {\n    successDisplay = (\n      <div className=\"Flash success\" onClick={() => props.onSetSuccess(\"\")}>\n        <h1>{props.success}</h1>\n      </div>\n    );\n  }\n  return successDisplay;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    success: state.flash.success,\n    timeout: state.flash.timeout,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSetSuccess: (success) => {\n      dispatch(actions.setSuccess(success));\n    },\n    onSetTimeout: (timeout) => {\n      dispatch(actions.setTimeout(timeout))\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlashSuccess);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./Flash.css\";\n\nconst FlashLoading = (props) => {\n  let errorDisplay = null;\n  if (props.loading) {\n    errorDisplay = (\n      <div className=\"Flash loading\">\n        <div className=\"lds-ellipsis\">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    );\n  }\n\n  return errorDisplay;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.flash.loading,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlashLoading);\n","import React, { useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../store/actions/index\";\nimport dateSince from \"./functions/dateSince\";\nimport Votes from \"./helpers/Votes\";\n\nconst UserPosts = (props) => {\n  const { username } = useParams();\n\n  useEffect(() => {\n    // Fetch posts on first load\n    props.onGetUserPosts(username);\n\n    // Set sidebar to home content\n    props.onSetSidebar(true, \"\", \"\");\n\n    // eslint-disable-next-line\n  }, [username]);\n\n  const postsDisplay = props.posts.map((post, index) => {\n    return (\n      <li key={post.post_id}>\n        <div className=\"post-number\">\n          <p>{index + 1}</p>\n        </div>\n        <div className=\"post-votes\">\n          <Votes\n            post_id={post.post_id}\n            votes={post.votes}\n            user_vote={post.user_vote}\n          />\n        </div>\n        <div>\n          <div className=\"post-title\">\n            <Link to={`/topics/${post.topic}/${post.post_id}`}>\n              {post.title}\n            </Link>\n          </div>\n          <p className=\"post-subtitle\">\n            submitted {dateSince(post.time)} by{\" \"}\n            <span className=\"post-username\">{post.username}</span> in{\" \"}\n            <Link to={`/topics/${post.topic}`}>{post.topic}</Link>\n          </p>\n        </div>\n      </li>\n    );\n  });\n\n  return (\n    <section className=\"Home\">\n      <h1 className=\"page-title\">{username}</h1>\n      <ul className=\"posts-list\">{postsDisplay}</ul>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  posts: state.posts.posts,\n  loading: state.flash.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onGetUserPosts: (username) => {\n      dispatch(actions.getUserPosts(username));\n    },\n    onSetSidebar: (isHome, name, description) => {\n      dispatch(actions.setSidebar(isHome, name, description));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPosts);\n","import \"./App.css\";\nimport { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport jwt_decode from \"jwt-decode\";\nimport * as actions from \"./store/actions/index\";\nimport ScrollToTop from \"./components/ScrollToTop\";\nimport Nav from \"./components/helpers/Nav\";\nimport Home from \"./components/Home\";\nimport Register from \"./components/Register\";\nimport Login from \"./components/Login\";\nimport NewPost from \"./components/NewPost\";\nimport NewTopic from \"./components/NewTopic\";\nimport TopicPosts from \"./components/TopicPosts\";\nimport Post from \"./components/Post\";\nimport Topics from \"./components/Topics\";\nimport Sidebar from \"./components/helpers/Sidebar\";\nimport SearchPosts from \"./components/SearchPosts\";\nimport FlashError from \"./components/helpers/FlashError\";\nimport FlashSuccess from \"./components/helpers/FlashSuccess\";\nimport FlashLoading from \"./components/helpers/FlashLoading\";\nimport UserPosts from \"./components/UserPosts\"\n\nconst App = (props) => {\n  // Check if user has a valid token in local storage\n  const isLoggedIn = () => {\n    const expiration = localStorage.getItem(\"expires\");\n    return expiration && Number(expiration) > Date.now();\n  };\n\n  // Authorize user if they have a valid token\n  useEffect(() => {\n    if (isLoggedIn()) {\n      const decoded = jwt_decode(localStorage.getItem(\"token\"));\n      props.onAuthorize(decoded.sub);\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <ScrollToTop />\n      <Nav />\n      <FlashError />\n      <FlashSuccess />\n      <FlashLoading />\n      <div className=\"main-grid\">\n        <main>\n          <Switch>\n            <Route path=\"/\" exact>\n              <Home />\n            </Route>\n            <Route path=\"/newpost\">\n              <NewPost />\n            </Route>\n            <Route path=\"/newtopic\">\n              <NewTopic />\n            </Route>\n            <Route path=\"/search\">\n              <SearchPosts />\n            </Route>\n            <Route path=\"/users/:username\">\n              <UserPosts/>\n            </Route>\n            <Route path=\"/topics\" exact>\n              <Topics />\n            </Route>\n            <Route path=\"/topics/:topic\" exact>\n              <TopicPosts />\n            </Route>\n            <Route path=\"/topics/:topic/:post_id\" exact>\n              <Post />\n            </Route>\n          </Switch>\n        </main>\n        {props.registerModal ? <Register /> : null}\n        {props.loginModal ? <Login /> : null}\n        <Sidebar />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    registerModal: state.auth.registerModal,\n    loginModal: state.auth.loginModal,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onAuthorize: (user_id) => {\n      dispatch(actions.authorize(user_id));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import * as actionTypes from \"../actions/actionTypes\";\n\nconst initialState = {\n  isAuth: false,\n  user_id: null,\n  registerModal: false,\n  loginModal: false,\n};\n\nconst authorize = (state, action) => {\n  return {\n    ...state,\n    isAuth: true,\n    user_id: action.user_id,\n  };\n};\n\nconst deauthorize = (state, action) => {\n  return {\n    ...state,\n    isAuth: false,\n    user_id: null,\n  };\n};\n\nconst toggleRegisterModal = (state, action) => {\n  return {\n    ...state,\n    registerModal: !state.registerModal\n  }\n}\n\nconst toggleLoginModal = (state, action) => {\n  return {\n    ...state,\n    loginModal: !state.loginModal\n  }\n}\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTHORIZE:\n      return authorize(state, action);\n    case actionTypes.DEAUTHORIZE:\n      return deauthorize(state, action);\n    case actionTypes.TOGGLE_REGISTER_MODAL:\n      return toggleRegisterModal(state, action);\n    case actionTypes.TOGGLE_LOGIN_MODAL:\n      return toggleLoginModal(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from \"../actions/actionTypes\";\n\nconst initialState = {\n  posts: [],\n  post: {},\n};\n\nconst loadPosts = (state, action) => {\n  return {\n    ...state,\n    posts: action.posts,\n  };\n};\n\nconst setSinglePost = (state, action) => {\n  return {\n    ...state,\n    post: { ...action.post, editing: false },\n  };\n};\n\nconst toggleEditPost = (state, action) => {\n  const post = { ...state.post };\n\n  // Set post to editing\n  post.editing = !post.editing;\n\n  // If was canceled reset to original\n  if (action.canceled) {\n    post.text = post.original;\n  }\n\n  // Set original value so can be used if canceled\n  post.original = post.text;\n\n  return {\n    ...state,\n    post,\n  };\n};\n\nconst editPostInput = (state, action) => {\n  const post = { ...state.post };\n\n  post.text = action.value;\n\n  return {\n    ...state,\n    post,\n  };\n};\n\nconst setPostVote = (state, action) => {\n  const posts = [];\n  for (let post of state.posts) {\n    posts.push({ ...post });\n  }\n\n  const index = posts.findIndex((post) => post.post_id === action.post_id);\n\n  // Set new user vote\n  posts[index].user_vote = action.vote;\n\n  // Change total votes based on users previous vote or new vote\n  const previousVote = state.posts[index].user_vote;\n\n  if (previousVote === 1 && action.vote === -1) {\n    posts[index].votes -= 2;\n  } else if (previousVote === -1 && action.vote === 1) {\n    posts[index].votes += 2;\n  } else if (previousVote === 1 || action.vote === -1) {\n    posts[index].votes -= 1;\n  } else if (previousVote === -1 || action.vote === 1) {\n    posts[index].votes += 1;\n  }\n\n  return {\n    ...state,\n    posts,\n  };\n};\n\nconst setSinglePostVote = (state, action) => {\n  const post = { ...state.post };\n\n  // Set new user vote\n  post.user_vote = action.vote;\n\n  // Change total votes based on users previous vote or new vote\n  const previousVote = state.post.user_vote;\n\n  if (previousVote === 1 && action.vote === -1) {\n    post.votes -= 2;\n  } else if (previousVote === -1 && action.vote === 1) {\n    post.votes += 2;\n  } else if (previousVote === 1 || action.vote === -1) {\n    post.votes -= 1;\n  } else if (previousVote === -1 || action.vote === 1) {\n    post.votes += 1;\n  }\n\n  return {\n    ...state,\n    post,\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.LOAD_POSTS:\n      return loadPosts(state, action);\n    case actionTypes.SET_SINGLE_POST:\n      return setSinglePost(state, action);\n    case actionTypes.TOGGLE_EDIT_POST:\n      return toggleEditPost(state, action);\n    case actionTypes.EDIT_POST_INPUT:\n      return editPostInput(state, action);\n    case actionTypes.SET_POST_VOTE:\n      return setPostVote(state, action);\n    case actionTypes.SET_SINGLE_POST_VOTE:\n      return setSinglePostVote(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from \"../actions/actionTypes\";\n\nconst initialState = {\n  topics: [],\n};\n\nconst setTopics = (state, action) => {\n  return {\n    ...state,\n    topics: action.topics,\n  };\n};\n\nconst setAddedTopic = (state, action) => {\n  const topics = [];\n  for (let topic of state.topics) {\n    topics.push({ ...topic });\n  }\n\n  return {\n    ...state,\n    topics: [...topics, action.topic],\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_TOPICS:\n      return setTopics(state, action);\n    case actionTypes.SET_ADDED_TOPIC:\n      return setAddedTopic(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from \"../actions/actionTypes\";\n\nconst initialState = {\n  sidebar: {\n    isHome: true,\n    name: \"\",\n    description: \"\",\n  },\n  show: false,\n};\n\nconst setSidebar = (state, action) => {\n  return {\n    ...state,\n    sidebar: {\n      isHome: action.isHome,\n      name: action.name,\n      description: action.description,\n    },\n  };\n};\n\nconst toggleSidebar = (state, action) => {\n  return {\n    ...state,\n    show: !state.show,\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_SIDEBAR:\n      return setSidebar(state, action);\n    case actionTypes.TOGGLE_SIDEBAR:\n      return toggleSidebar(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from \"../actions/actionTypes\";\n\nconst initialState = {\n  comments: [],\n};\n\n// Helper function to duplicate comments array\nconst duplicateComments = (comments) => {\n  const duplicate = [];\n  for (let comment of comments) {\n    duplicate.push({ ...comment });\n  }\n  return duplicate;\n};\n\nconst setSinglePostComments = (state, action) => {\n  const comments = action.comments;\n  for (let comment of comments) {\n    comment.reply = \"\";\n    comment.showReply = false;\n    comment.editing = false;\n    comment.show = true;\n  }\n  return {\n    ...state,\n    comments: action.comments,\n  };\n};\n\nconst addComment = (state, action) => {\n  return {\n    ...state,\n    comments: [\n      ...state.comments,\n      {\n        ...action.comment,\n        reply: \"\",\n        showReply: false,\n        editing: false,\n        show: true,\n      },\n    ],\n  };\n};\n\nconst toggleReplyForm = (state, action) => {\n  const comments = duplicateComments(state.comments);\n\n  const index = comments.findIndex(\n    (comment) => comment.comment_id === Number(action.comment_id)\n  );\n\n  comments[index].showReply = !comments[index].showReply;\n\n  return {\n    ...state,\n    comments,\n  };\n};\n\nconst replyInput = (state, action) => {\n  const comments = duplicateComments(state.comments);\n\n  const index = comments.findIndex(\n    (comment) => comment.comment_id === Number(action.comment_id)\n  );\n\n  comments[index].reply = action.value;\n\n  return {\n    ...state,\n    comments,\n  };\n};\n\nconst resetReplyInput = (state, action) => {\n  const comments = duplicateComments(state.comments);\n\n  const index = comments.findIndex(\n    (comment) => comment.comment_id === Number(action.comment_id)\n  );\n\n  comments[index].reply = \"\";\n\n  return {\n    ...state,\n    comments,\n  };\n};\n\nconst setDeletedComment = (state, action) => {\n  const comments = duplicateComments(state.comments);\n\n  const index = comments.findIndex(\n    (comment) => comment.comment_id === Number(action.comment_id)\n  );\n\n  // Set displayed comment text to deleted values\n  comments[index].text = \"[deleted]\";\n  comments[index].user_id = 11;\n  comments[index].username = \"[deleted]\";\n\n  return {\n    ...state,\n    comments,\n  };\n};\n\nconst toggleEditComment = (state, action) => {\n  const comments = duplicateComments(state.comments);\n\n  const index = comments.findIndex(\n    (comment) => comment.comment_id === Number(action.comment_id)\n  );\n\n  // Set chosen comment to editing mode\n  comments[index].editing = !comments[index].editing;\n\n  // If was canceled reset to original\n  if (action.canceled) {\n    comments[index].text = comments[index].original;\n  }\n\n  // Set original value so can be used if canceled\n  comments[index].original = comments[index].text;\n\n  return {\n    ...state,\n    comments,\n  };\n};\n\nconst editCommentInput = (state, action) => {\n  const comments = duplicateComments(state.comments);\n\n  const index = comments.findIndex(\n    (comment) => comment.comment_id === Number(action.comment_id)\n  );\n\n  comments[index].text = action.value;\n\n  return {\n    ...state,\n    comments,\n  };\n};\n\nconst toggleShowComment = (state, action) => {\n  const comments = duplicateComments(state.comments);\n\n  const index = comments.findIndex(\n    (comment) => comment.comment_id === Number(action.comment_id)\n  );\n\n  comments[index].show = !comments[index].show;\n\n  return {\n    ...state,\n    comments,\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_SINGLE_POST_COMMENTS:\n      return setSinglePostComments(state, action);\n    case actionTypes.ADD_COMMENT:\n      return addComment(state, action);\n    case actionTypes.TOGGLE_REPLY_FORM:\n      return toggleReplyForm(state, action);\n    case actionTypes.REPLY_INPUT:\n      return replyInput(state, action);\n    case actionTypes.RESET_REPLY_INPUT:\n      return resetReplyInput(state, action);\n    case actionTypes.SET_DELETED_COMMENT:\n      return setDeletedComment(state, action);\n    case actionTypes.TOGGLE_EDIT_COMMENT:\n      return toggleEditComment(state, action);\n    case actionTypes.EDIT_COMMENT_INPUT:\n      return editCommentInput(state, action);\n    case actionTypes.TOGGLE_SHOW_COMMENT:\n      return toggleShowComment(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from \"../actions/actionTypes\";\n\nconst initialState = {\n  success: \"\",\n  error: \"\",\n  loading: false,\n  timeout: null,\n};\n\nconst setError = (state, action) => {\n  return {\n    ...state,\n    error: action.error,\n    success: \"\",\n  };\n};\n\nconst setSuccess = (state, action) => {\n  return {\n    ...state,\n    success: action.success,\n    error: \"\",\n  };\n};\n\nconst setLoading = (state, action) => {\n  // Clear message if loading\n  const messages = {};\n  if (action.loading) {\n    messages.error = \"\";\n    messages.success = \"\";\n  }\n\n  return {\n    ...state,\n    ...messages,\n    loading: action.loading,\n  };\n};\n\nconst setTimeout = (state, action) => {\n  return {\n    ...state,\n    timeout: action.timeout,\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_ERROR:\n      return setError(state, action);\n    case actionTypes.SET_SUCCESS:\n      return setSuccess(state, action);\n    case actionTypes.SET_LOADING:\n      return setLoading(state, action);\n    case actionTypes.SET_TIMEOUT:\n      return setTimeout(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, combineReducers, compose, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport auth from \"./store/reducers/auth\";\nimport posts from \"./store/reducers/posts\"\nimport topics from \"./store/reducers/topics\"\nimport sidebar from \"./store/reducers/sidebar\"\nimport comments from \"./store/reducers/comments\"\nimport flash from \"./store/reducers/flash\"\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  auth: auth,\n  posts: posts,\n  comments: comments,\n  topics: topics,\n  sidebar: sidebar,\n  flash: flash,\n});\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}